<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Chiyo</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Snowburst+One&display=swap" rel="stylesheet" />
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  html, body {
    height: 100%;
    overflow: hidden;
    background: #00000000;
    font-family: 'Snowburst One', sans-serif;
    color: #eee;
  }
  @font-face {
    font-family: 'ChiyoNameFont';
    src: url('fonts/ChiyoNameFont.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }
  @font-face {
    font-family: 'ChiyoBioFont';
    src: url('fonts/ChiyoBioFont.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
  }
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  html, body {
    height: 100%;
    overflow: hidden;
    background: #00000000;
    font-family: 'Snowburst One', sans-serif; /* fallback */
    color: #eee;
  }
  #boot {
    position: fixed;
    inset: 0;
    display: flex;
    z-index: 10;
    opacity: 1;
    transition: opacity 0.3s ease;
  }
  .bar {
    flex: 1;
    height: 100%;
  }
  .bar:nth-child(1) { background: red; }
  .bar:nth-child(2) { background: yellow; }
  .bar:nth-child(3) { background: cyan; }
  .bar:nth-child(4) { background: green; }
  .bar:nth-child(5) { background: magenta; }
  .bar:nth-child(6) { background: white; }
  #site {
    visibility: hidden;
  }
  .parallax {
    position: fixed;
    inset: 0;
    background: url('snowbg.jpg') center/cover fixed;
    filter: brightness(0.6) blur(2px);
    z-index: -3;
  }
  .fog {
    position: fixed;
    inset: 0;
    background: rgba(255,255,255,0.12);
    z-index: -2;
  }
  .snow {
    position: fixed;
    inset: 0;
    background: url('snow1.png'), url('snow2.gif');
    background-repeat: repeat;
    opacity: 0.3;
    animation: snow 60s linear infinite;
    z-index: -1;
}
  @keyframes snow {
    to {
      background-position: 500px 500px;
    }
  }
  .crt:before {
    content: "";
    position: fixed;
    inset: 0;
    background:
      linear-gradient(rgba(18,16,16,0) 50%, rgba(0,0,0,0.25) 50%),
      linear-gradient(90deg, rgba(255,0,0,0.06), rgba(0,255,0,0.02), rgba(0,0,255,0.06));
    background-size: 100% 2px, 3px 100%;
    pointer-events: none;
    z-index: 2;
  }
  .crt:after {
    content: "";
    position: fixed;
    inset: 0;
    background: rgba(18,16,16,0.1);
    animation: flicker 0.15s infinite;
    pointer-events: none;
    z-index: 2;
  }
  @keyframes flicker {
    0% {opacity: .28;}
    5% {opacity: .35;}
    10% {opacity: .23;}
    15% {opacity: .10;}
    20% {opacity: .18;}
    25% {opacity: .10;}
    30% {opacity: .18;}
    35% {opacity: .23;}
  }
  .content {
    position: relative;
    z-index: 1;
    height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
    background: rgba(20,20,20,0.5);
  }
  .pfp {
    width: 160px;
    height: 160px;
    background: url('pfp.jpg') center/cover;
    border: 4px solid rgba(255,255,255,0.3);
    border-radius: 50%;
    box-shadow: 0 0 15px rgba(255,255,255,0.5);
    margin-bottom: 1rem;
  }
h1 {
    font-family: 'ChiyoNameFont', cursive, sans-serif;
    font-size: 2.8rem;
    color: #fff5f5;
    text-shadow: 0 0 8px rgba(255,255,255,0.6);
    margin-bottom: 0.5rem;
  }
  p.bio {
    font-family: 'ChiyoBioFont', serif, sans-serif;
    max-width: 700px;
    font-size: 1.7rem;
    background: rgba(0,0,0,0.4);
    padding: 1rem;
    border-radius: 6px;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    margin: 0 auto;
  }
  a.contact {
    margin-top: 1.5rem;
    padding: 0.7rem 1.4rem;
    background: #fff5f5;
    color: #111;
    text-decoration: none;
    border-radius: 4px;
    box-shadow: 0 0 8px rgba(0,0,0,0.3);
    transition: transform 0.2s, box-shadow 0.2s;
  }
  a.contact:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 14px rgba(0,0,0,0.5);
  }
</style>
</head>
<head>
<meta charset="UTF-8" />
<title>Chiyo</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="description" content="I am the angel.." />
<meta name="keywords" content="Chiyo, retrocore, angel theme, CRT, snow, personal website, persona 3" />
<meta name="author" content="Chiyo" />

<meta property="og:title" content="Chiyo" />
<meta property="og:description" content="I am the angel.." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://chiyo.wtf/" />
<meta property="og:image" content="https://chiyo.wtf/pfp.jpg" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Chiyo" />
<meta name="twitter:description" content="I am the angel.." />
<meta name="twitter:image" content="https://chiyo.wtf/pfp.jpg" />
<body class="crt">
  <div id="boot">
    <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
  </div>
  <div class="parallax"></div>
  <div class="fog"></div>
  <div class="snow"></div>
  <div id="site">
    <div class="content">
      <div class="pfp"></div>
      <h1>Chiyo</h1>
      <p class="bio">I am the Angel you seek.</p>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/crtfilter-webgl@latest"></script>
  <script>
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    function beep(duration = 100, frequency = 300, volume = 50) {
      return new Promise(resolve => {
        const oscillator = audioCtx.createOscillator();
        const gainNode = audioCtx.createGain();
        oscillator.connect(gainNode);
        gainNode.connect(audioCtx.destination);
        oscillator.frequency.value = frequency;
        oscillator.type = "square";
        gainNode.gain.value = volume / 100;
        oscillator.start();
        oscillator.stop(audioCtx.currentTime + duration / 1000);
        oscillator.onended = resolve;
      });
    }

    function sleep(ms) {
      return new Promise(resolve => setTimeout(resolve, ms));
    }

    async function boot() {
      try {
        await beep(150, 220);
        await sleep(200);
        await beep(150, 220);
        await sleep(200);
        await beep(150, 440);
      } catch (e) {
        console.warn("Beep error:", e);
      }

      const bootBars = document.getElementById('boot');
      bootBars.style.opacity = 0;
      await sleep(300);
      bootBars.remove();

      startDistortion();
    }

    function startDistortion() {
      const canvas = document.createElement('canvas');
      document.body.appendChild(canvas);
      canvas.style.position = 'fixed';
      canvas.style.inset = '0';
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;

      const crt = new CRTFilterWebGL(canvas, {
        barrelDistortion: 0.002,
        chromaticAberration: 0.0008,
        staticNoise: 0.005,
        glowBloom: 0.001,
        flicker: 0.02,
        scanlineIntensity: 0.7,
        retraceLines: true
      });

      crt.start();

      setTimeout(() => {
        crt.stop();
        canvas.remove();
        revealSite();
      }, 1200);
    }

    function revealSite() {
      document.getElementById('site').style.visibility = 'visible';
    }

    // Failsafe: show site after 5 seconds no matter what
    setTimeout(() => {
      const bootBars = document.getElementById('boot');
      if (bootBars) bootBars.remove();
      revealSite();
    }, 5000);

    window.onload = boot;
  </script>
</body>
</html>
